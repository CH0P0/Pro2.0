@page
@model Ejercicios701.Pages.Ejercicio3Model
@{
}

<!Doctype html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>Ejercicios701</title>
    <link rel="stylesheet" href="./css/Styles.css"/>
</head>

<body>
    <header>
        <div>
            <img src="./media/0f43f17f-78ba-4307-a0d5-fed381c950fc.jpg" alt="miFoto" width="75" />
            <p>Guillermo Afonso Santacreu 1-DAW-A</p>
        </div>

    </header>
    <div class="container">
        <main>
            <h1>Datediff </h1>
                <form name="formEj3" method="post">

                    @if (Request.Method == "POST")
                    {
                        DateTime currentTime = DateTime.Now;
                        if (DateTime.TryParse(Request.Form["dateintroduced"], out DateTime date) && date.CompareTo(currentTime) < 0)
                        {
                            <p>Fecha de hoy: <span>@currentTime.ToShortDateString()</span></p>
                            <p>Fecha introducida: <span>@date.ToShortDateString()</span></p>
                            <p>Días entre la fecha introducida y el día de hoy: <span>@date.Subtract(currentTime).Days.ToString().Substring(1) días</span></p>
                        }
                        else
                        {
                            <p>Introducción de fecha inválida.</p>
                        }
                    }
                    else
                    {
                        <p>
                            <label for="dateIntroduced">Introduce la fecha deseada:</label>
                            <input type="date" name="dateIntroduced" required />
                        </p>
                        <p><input type="submit" class="submitButton" value="Calcular" /></p>
                    }
                </form>
        </main>

        <aside>
            <div class="aside-box">
                <h3>Ejercicios</h3>
                <ul>
                    <li><a href="Ejercicio1"> Ejercicio 1</a></li>
                    <li><a href="Ejercicio2"> Ejercicio 2</a></li>
                    <li><a href="#"> Ejercicio 3</a></li>
                    <li><a href="Inicio"> Principal</a></li>
                </ul>
            </div>
        </aside>
    </div>

    <footer>
        <p>19/05/2023 - CIPF César Manrique - Guillermo Afonso Afonso - Curso 2022-2023</p>
    </footer>
</body>
</html>