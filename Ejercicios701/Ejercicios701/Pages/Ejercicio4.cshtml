@page
@model Ejercicios701.Pages.Ejercicio4Model
@{
}

<!Doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Ejercicios701</title>
    <link rel="stylesheet" href="./css/Styles.css" />
</head>

<body>
    <header>
        <div>
            <img src="./media/0f43f17f-78ba-4307-a0d5-fed381c950fc.jpg" alt="miFoto" width="75" />
            <p>Guillermo Afonso Santacreu 1-DAW-A</p>
        </div>

    </header>
    <div class="container">
        <main>
            <h2>Ejercicio 4</h2>
			<div id="ejer4">
                <form method="post" name="form-1">
                    @if (Request.Method == "POST")
                    {
                        <div>
                            <label>Número 1: </label>
                            <input type="number" name="number1" value="@Request.Form["number1"]" />
                            <input type="checkbox" name="number1-box"  @(Request.Form["number1-box"] == "on" ? "checked" : "") />
                        </div>
                        <div>
                            <label>Número 2: </label>
                            <input type="number" name="number2" value="@Request.Form["number2"]" />
                            <input type="checkbox" name="number2-box"  @(Request.Form["number2-box"] == "on" ? "checked" : "") />
                        </div>
                        <div>
                            <label>Número 3: </label>
                            <input type="number" name="number3" value="@Request.Form["number3"]" />
                            <input type="checkbox" name="number3-box"  @(Request.Form["number3-box"] == "on" ? "checked" : "") />
                        </div>
                        <div>
                            <label>Número 4: </label>
                            <input type="number" name="number4" value="@Request.Form["number4"]" />
                            <input type="checkbox" name="number4-box"  @(Request.Form["number4-box"] == "on" ? "checked" : "") />
                        </div>
                        <div>
                            <label>Suma: </label>
                            <input type="radio" name="operacion" value="suma" @(Request.Form["operacion"] == "suma" ? "checked" : "")/>
                        </div>
                        <div>
                            <label>Multiplicar: </label>
                            <input type="radio" name="operacion" value="multiplicacion" @(Request.Form["operacion"] == "multiplicacion" ? "checked" : "") />
                        </div>
                    }
                    else
                    {
                        <div>
                            <label>Número 1: </label>
                            <input type="number" name="number1" value="" />
                            <input type="checkbox" name="number1-box"  />
                        </div>
                        <div>
                            <label>Número 2: </label>
                            <input type="number" name="number2" value="" />
                            <input type="checkbox" name="number2-box" />
                        </div>
                        <div>
                            <label>Número 3: </label>
                            <input type="number" name="number3" value="" />
                            <input type="checkbox" name="number3-box"  />
                        </div>
                        <div>
                            <label>Número 4: </label>
                            <input type="number" name="number4" value="" />
                            <input type="checkbox" name="number4-box"  />
                        </div>
                        <div>
                            <label>Suma: </label>
                            <input type="radio" name="operacion" value="suma" checked />
                        </div>
                        <div>
                            <label >Multiplicar: </label>
                            <input type="radio" name="operacion" value="multiplicacion" />
                        </div>
                    }
                    <p>
                        <input type="submit" value="Ejecutar" />
                        <input type="reset" name="form-1" value="Limpiar" />
                    </p>
                </form>
                <div id="resultado">
                    @if (Request.Method == "POST")
                    {
                        <h2>Resultado</h2>

                        int numero1 = 0,
                            numero2 = 0,
                            numero3 = 0,
                            numero4 = 0,
                            suma = 0,
                            mult = 1;

                        bool checkNumero1 = Request.Form["number1-box"] == "on";
                        bool checkNumero2 = Request.Form["number2-box"] == "on";
                        bool checkNumero3 = Request.Form["number3-box"] == "on";
                        bool checkNumero4 = Request.Form["number4-box"] == "on";
                        bool sumar = Request.Form["operacion"] == "suma";
                        bool multiplicar = Request.Form["operacion"] == "multiplicacion";

                        if (checkNumero1 && int.TryParse(Request.Form["number1"], out numero1))
                        {
                            if (sumar)
                            {
                                suma += numero1;
                            } else if (multiplicar)
                            {
                                mult *= numero1;
                            }
                            <p>Número 1: @numero1</p>
                        }

                        if (checkNumero2 && int.TryParse(Request.Form["number2"], out numero2))
                        {
                            if (sumar)
                            {
                                suma += numero2;
                            } else if (multiplicar)
                            {
                                mult *= numero2;
                            }
                            <p>Número 2: @numero2</p>
                        }

                        if (checkNumero3 && int.TryParse(Request.Form["number3"], out numero3))
                        {
                            if (sumar)
                            {
                                suma += numero3;
                            } else if (multiplicar)
                            {
                                mult *= numero3;
                            }
                            <p>Número 3: @numero3</p>
                        }

                        if (checkNumero4 && int.TryParse(Request.Form["number4"], out numero4))
                        {
                            if (sumar)
                            {
                                suma += numero4;
                            }
                            else if (multiplicar)
                            {
                                mult *= numero4;
                            }
                            <p>Número 4: @numero4</p>
                        }

                        if (sumar)
                        {
                            <p>Su suma da: @suma</p>
                        }

                        if (multiplicar)
                        {
                            <p>Su multiplicación da: @mult</p>
                        }
                    }
                </div>
            </div>
        </main>

        <aside>
            <div class="aside-box">
                <h3>Ejercicios</h3>
                <ul>
                    <li><a href="Ejercicio1"> Ejercicio 1</a></li>
                    <li><a href="Ejercicio2"> Ejercicio 2</a></li>
                    <li><a href="Ejercicio3"> Ejercicio 3</a></li>
                    <li><a href="#"> Principal</a></li>
                </ul>
            </div>
        </aside>
    </div>

    <footer>
        <p>19/05/2023 - CIPF César Manrique - Guillermo Afonso Afonso - Curso 2022-2023</p>
    </footer>
</body>

</html>